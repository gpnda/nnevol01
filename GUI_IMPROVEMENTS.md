#!/usr/bin/env python
# -*- coding: utf-8 -*-
"""
Улучшения управления позиционированием панелей GUI

БЫЛА ПРОБЛЕМА:
===============
1. VariablesPanel использовала странное сочетание констант:
   - PANEL_OFFSET_X/Y для абсолютной позиции
   - PANEL_WIDTH_OFFSET = 50 (width // 2 - 50)
   - PANEL_HEIGHT_OFFSET = 100 (height - 100)
   Это приводило к непредсказуемым размерам.

2. FunctionKeysPanel использовала еще более запутанную логику:
   - FUNC_KEYS_OFFSET_Y = 60 вычислялось как height - 60
   - FUNC_KEYS_SEPARATOR_X_END_OFFSET для вычисления конца линии
   - Все значения были в виде смещений, а не абсолютных размеров

3. Не было единообразного подхода между двумя панелями


РЕШЕНИЕ:
========
Унифицировано управление позиционированием для обеих панелей:

VariablesPanel:
  PANEL_X = 0           # Абсолютная X координата (левая граница)
  PANEL_Y = 0           # Абсолютная Y координата (верхняя граница)
  PANEL_WIDTH = 0       # 0 = весь экран, >0 = фиксированная ширина
  PANEL_HEIGHT = 0      # 0 = весь экран минус нижняя панель, >0 = фиксированная
  
FunctionKeysPanel:
  PANEL_X = 0           # Абсолютная X координата
  PANEL_Y = 0           # 0 = автоматически (экран_высота - PANEL_HEIGHT)
  PANEL_WIDTH = 0       # 0 = весь экран, >0 = фиксированная ширина
  PANEL_HEIGHT = 80     # Высота панели (явная, не через смещение!)

Добавлены методы _calculate_bounds() в обоих классах для вычисления
фактических координат и размеров на основе констант.


ПРЕИМУЩЕСТВА:
=============
✓ Единообразный подход для обеих панелей
✓ Явные размеры вместо вычисляемых смещений
✓ Легко менять расположение: просто измени PANEL_X и PANEL_Y
✓ Легко менять размеры: просто установи PANEL_WIDTH и PANEL_HEIGHT
✓ 0 = авто (гибкое значение), >0 = фиксированное значение
✓ Все внутренние смещения элементов в PADDING_* и другие явные константы
✓ Лучше читаемость и поддерживаемость кода


ПРИМЕРЫ ИСПОЛЬЗОВАНИЯ:
======================

# Размеры по умолчанию (занимает весь экран, VariablesPanel + FunctionKeysPanel)
VariablesPanel.PANEL_WIDTH = 0    # весь экран
VariablesPanel.PANEL_HEIGHT = 0   # весь экран минус 80px для функциональных клавиш

FunctionKeysPanel.PANEL_WIDTH = 0  # весь экран
FunctionKeysPanel.PANEL_HEIGHT = 80

# Кастомные размеры
VariablesPanel.PANEL_WIDTH = 600   # фиксированные 600 пиксель
VariablesPanel.PANEL_HEIGHT = 500  # фиксированные 500 пиксель

FunctionKeysPanel.PANEL_HEIGHT = 100  # увеличить высоту панели функциональных клавиш

# Смещение с левого края
VariablesPanel.PANEL_X = 50
VariablesPanel.PANEL_Y = 20

# Внутренние отступы
VariablesPanel.PADDING_X = 20  # увеличить отступ слева и справа
VariablesPanel.PADDING_Y = 15  # увеличить отступ сверху и снизу
"""

if __name__ == "__main__":
    print(__doc__)
